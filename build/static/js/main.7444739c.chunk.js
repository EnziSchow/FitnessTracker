(this.webpackJsonpFitnessTrackr_FrontEnd=this.webpackJsonpFitnessTrackr_FrontEnd||[]).push([[0],{57:function(e,t,n){},58:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var r=n(10),a=n(1),c=n(30),s=n.n(c),i=n(12),o=n(3),u=n(2),l=n.n(u),j=n(5),b=n(14),p=n(11),d=n(7),h=n.n(d),m=n(0),O=function(e){var t=e.setUser,n=Object(a.useState)({username:"",password:""}),c=Object(r.a)(n,2),s=c[0],i=c[1],o=function(e){i(Object(p.a)(Object(p.a)({},s),{},Object(b.a)({},e.target.name,e.target.value)))},u=function(){var e=Object(j.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,h.a.post("https://stark-bastion-05693.herokuapp.com/api/users/register",{username:s.username,password:s.password});case 4:r=e.sent,console.log(r),t(r.data.user),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return console.log("form",s),Object(m.jsxs)("form",{className:"register",onSubmit:u,children:[Object(m.jsx)("label",{children:"Username: "}),Object(m.jsx)("input",{name:"username",value:s.username,onInput:o}),Object(m.jsx)("label",{children:" Password: "}),Object(m.jsx)("input",{name:"password",value:s.password,onInput:o,type:"password"}),Object(m.jsx)("button",{className:"submit-btn",type:"submit",children:"Submit"})]})},x=n(32),v=(n(57),["btn--primary","btn--outline"]),f=["btn--medium","btn--large","btn--mobile","btn--wide"],g=["primary"],N=function(e){var t=e.children,n=e.type,r=e.onClick,a=e.buttonStyle,c=e.buttonSize,s=e.buttonColor,i=v.includes(a)?a:v[0],o=v.includes(c)?c:f[0],u=v.includes(s)?s:g[0];return Object(m.jsx)("button",{className:"btn ".concat(i," ").concat(o," ").concat(u),onClick:r,type:n,children:t})};n(58);function w(){return JSON.parse(localStorage.getItem("currentUser"))}function y(){return JSON.parse(localStorage.getItem("token"))}var k=function(e){var t=e.user,n=e.setUser;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"navbar",children:Object(m.jsxs)("div",{className:"navbar-container container",children:[Object(m.jsxs)(i.b,{to:"/",className:"navbar-logo",children:[Object(m.jsx)(x.a,{className:"navbar-icon"}),"Fitness Tracker"]}),Object(m.jsxs)("ul",{className:"nav-menu",children:[!t&&Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(i.b,{to:"/register",className:"nav-links",children:"Register"})}),t&&Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(i.b,{to:"/usersroutines",className:"nav-links",children:"My Routines"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(i.b,{to:"/routines",className:"nav-links",children:"Routines"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)(i.b,{to:"/activities",className:"nav-links",children:"Activities"})}),!t&&Object(m.jsx)("li",{className:"nav-btn",children:Object(m.jsx)(i.b,{to:"/login",className:"btn-link",children:Object(m.jsx)(N,{buttonStyle:"btn--outline",children:"Login"})})}),t&&Object(m.jsx)("li",{children:Object(m.jsx)(i.b,{to:"/",children:Object(m.jsx)(N,{onClick:function(){n(),localStorage.removeItem("currentUser"),localStorage.removeItem("token"),localStorage.clear()},buttonStyle:"btn--outline",children:"Logout"})})})]})]})})})},S=function(e){var t=e.setUser,n=Object(a.useState)({username:"",password:""}),c=Object(r.a)(n,2),s=c[0],i=c[1],o=function(e){i(Object(p.a)(Object(p.a)({},s),{},Object(b.a)({},e.target.name,e.target.value)))},u=function(){var e=Object(j.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,h.a.post("https://stark-bastion-05693.herokuapp.com/api/users/login",{username:s.username,password:s.password});case 4:r=e.sent,a=r.data.user,c=r.data.token,localStorage.setItem("currentUser",JSON.stringify(a)),localStorage.setItem("token",JSON.stringify(c)),console.log("resdata",r.data),t(r.data.user),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}var a,c}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return console.log("form",s),Object(m.jsxs)("form",{className:"login",onSubmit:u,children:[Object(m.jsx)("label",{children:"Username: "}),Object(m.jsx)("input",{name:"username",value:s.username,onInput:o}),Object(m.jsx)("label",{children:" Password: "}),Object(m.jsx)("input",{name:"password",value:s.password,onInput:o,type:"password"}),Object(m.jsx)("button",{className:"submit-btn",type:"submit",children:"Submit"})]})},I=function(e){var t=e.routines;return Object(m.jsxs)("div",{className:"routine-display",children:[Object(m.jsx)("h2",{className:"routine-title",children:"Routines:"}),t.map((function(e){var t=e.id,n=e.name,r=e.goal,a=e.creatorName,c=e.activities;return Object(m.jsxs)("div",{className:"routine-card",children:[Object(m.jsxs)("h3",{children:["Routine: ",n]}),Object(m.jsxs)("h3",{children:["Goal: ",r]}),Object(m.jsx)("br",{}),Object(m.jsx)("h4",{children:"Activities:"}),c.map((function(e){var t=e.id,n=e.name,r=e.description,a=e.count,c=e.duration;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Name: ",n]}),Object(m.jsxs)("p",{children:["Description: ",r]}),Object(m.jsxs)("p",{children:["Count: ",a]}),Object(m.jsxs)("p",{children:["Duration: ",c]})]},t)})),Object(m.jsx)("br",{}),Object(m.jsxs)("h3",{children:["Routine Creator: ",a]})]},t)}))]})},C=function(){return Object(m.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"90vh",fontSize:"40px"},children:"Keep Track of your Fitness Routines!"})},R=function(e){var t=e.activities,n=e.user,c=Object(a.useState)({name:"",description:""}),s=Object(r.a)(c,2),i=s[0],o=s[1],u=function(e){o(Object(p.a)(Object(p.a)({},i),{},Object(b.a)({},e.target.name,e.target.value)))},d=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.a.post("https://stark-bastion-05693.herokuapp.com/api/activities",{name:i.name,description:i.description},{headers:{Authorization:"Bearer "+y()}});case 4:e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0,"User already exists";case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"activity-display",children:[Object(m.jsx)("h2",{children:"Activities:"}),n?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("form",{onSubmit:d,children:[Object(m.jsx)("label",{children:"Name:"}),Object(m.jsx)("input",{name:"name",value:i.name,onInput:u}),Object(m.jsx)("label",{children:"Description:"}),Object(m.jsx)("input",{name:"description",value:i.description,onInput:u}),Object(m.jsx)("button",{type:"submit",className:"submit-btn",children:"Create Activity"})]}),t.map((function(e){var t=e.id,n=e.name,r=e.description;return Object(m.jsxs)("div",{className:"activity-card",children:[Object(m.jsxs)("p",{children:["Name: ",n]}),Object(m.jsxs)("p",{children:["Description: ",r]})]},t)}))]}):Object(m.jsx)(m.Fragment,{children:t.map((function(e){var t=e.id,n=e.name,r=e.description;return Object(m.jsxs)("div",{className:"activity-card",children:[Object(m.jsxs)("p",{children:["Name: ",n]}),Object(m.jsxs)("p",{children:["Description: ",r]})]},t)}))})]})},D="https://stark-bastion-05693.herokuapp.com/api";function U(){return(U=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(D,"/routines"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function F(e){return A.apply(this,arguments)}function A(){return(A=Object(j.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.delete("".concat(D,"/routines/").concat(t),{headers:{Authorization:"Bearer "+y()}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function B(){return(B=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(D,"/activities"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var E=function(e){var t=e.user,n=e.routines,r=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(t.target.id);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"routine-display",children:[Object(m.jsxs)("h2",{children:["Routines By: ",t.username]}),Object(m.jsx)(i.b,{to:"createroutines",children:Object(m.jsx)("button",{className:"submit-btn",children:"Create new routine"})}),n.map((function(e){var n=e.id,a=e.name,c=e.goal,s=e.creatorName,i=e.activities;return Object(m.jsx)("div",{className:"routine-card",children:t.username===s&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h3",{children:a}),Object(m.jsx)("h3",{children:c}),Object(m.jsx)("h4",{children:"Activities:"}),i.map((function(e){var t=e.id,n=e.name,r=e.description,a=e.count,c=e.duration;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("p",{children:["Name: ",n]}),Object(m.jsxs)("p",{children:["Description: ",r]}),Object(m.jsxs)("p",{children:["Count: ",a]}),Object(m.jsxs)("p",{children:["Duration: ",c]})]},t)})),Object(m.jsxs)("p",{children:["Routine Creator: ",s]}),Object(m.jsx)("button",{className:"submit-btn",children:"Edit Routine"}),Object(m.jsx)("button",{onClick:r,type:"button",id:n,className:"submit-btn",children:"Delete Routine"})]})},n)}))]})},J=function(e){var t=e.user,n=Object(a.useState)({creatorId:t.username,isPublic:!0,name:"",goal:""}),c=Object(r.a)(n,2),s=c[0],i=c[1],o=function(e){i(Object(p.a)(Object(p.a)({},s),{},Object(b.a)({},e.target.name,e.target.value)))},u=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.a.post(console.log("form",s),"https://stark-bastion-05693.herokuapp.com/api/routines",{creatorId:s.creatorId,isPublic:s.isPublic,name:s.name,goal:s.goal},{headers:{Authorization:"Bearer "+y()}});case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0,"Error creating routine";case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:" Create a new routine:"}),Object(m.jsxs)("form",{onSubmit:u,className:"createRoutineForm",children:[Object(m.jsx)("label",{children:"Name:"}),Object(m.jsx)("input",{name:"name",value:s.name,onInput:o}),Object(m.jsx)("label",{children:"Goal:"}),Object(m.jsx)("input",{name:"goal",value:s.goal,onInput:o}),Object(m.jsx)("button",{type:"submit",className:"submit-btn",children:"Create Routine"})]})]})},z=function(){var e=Object(a.useState)(w),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),u=Object(r.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)([]),p=Object(r.a)(b,2),d=p[0],h=p[1];return Object(a.useEffect)((function(){(function(){return U.apply(this,arguments)})().then((function(e){j(e)})).catch((function(e){throw"Big ol' error"}),[]),function(){return B.apply(this,arguments)}().then((function(e){h(e)})).catch((function(e){throw"Big ol' error"}),[])}),[]),Object(m.jsx)("div",{className:"app",children:Object(m.jsxs)(i.a,{children:[Object(m.jsx)(k,{setUser:c,user:n}),Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{path:"/",exact:!0,component:C}),!n&&Object(m.jsx)(o.a,{path:"/login",children:Object(m.jsx)(S,{setUser:c})}),!n&&Object(m.jsx)(o.a,{path:"/register",children:Object(m.jsx)(O,{setUser:c})}),Object(m.jsx)(o.a,{path:"/createroutines",children:Object(m.jsx)(J,{user:n})}),Object(m.jsx)(o.a,{path:"/usersroutines",children:Object(m.jsx)(E,{user:n,routines:l})}),Object(m.jsx)(o.a,{path:"/routines",children:Object(m.jsx)(I,{routines:l})}),Object(m.jsx)(o.a,{path:"/activities",children:Object(m.jsx)(R,{user:n,activities:d})})]})]})})};s.a.render(Object(m.jsx)(z,{}),document.getElementById("app"))}},[[64,1,2]]]);
//# sourceMappingURL=main.7444739c.chunk.js.map